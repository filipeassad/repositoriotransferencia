{"version":3,"sources":["../../src/pages/revalidacao/revalidacao-atualizar-endereco/revalidacao-atualizar-endereco.module.ts","../../src/pages/revalidacao/revalidacao-atualizar-endereco/revalidacao-atualizar-endereco.ts","../../src/models/to/util-busca-cep.model.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import {CUSTOM_ELEMENTS_SCHEMA, NgModule} from '@angular/core';\r\nimport {IonicPageModule} from \"ionic-angular\";\r\nimport {PipeModule} from \"../../../pipes/pipe.module\";\r\nimport {RevalidacaoAtualizarEnderecoPage} from \"./revalidacao-atualizar-endereco\";\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        RevalidacaoAtualizarEnderecoPage\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(RevalidacaoAtualizarEnderecoPage),\r\n        PipeModule\r\n    ],\r\n    exports: [RevalidacaoAtualizarEnderecoPage],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n    providers: [],\r\n})\r\nexport class RevalidacaoAtualizarEnderecoModule {\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/revalidacao/revalidacao-atualizar-endereco/revalidacao-atualizar-endereco.module.ts","import {Component} from \"@angular/core\";\r\nimport {IonicPage, LoadingController, NavController, NavParams} from \"ionic-angular\";\r\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\r\nimport {UtilBuscaCep} from \"../../../models/to/util-busca-cep.model\";\r\nimport {ToastHelper} from \"../../../helpers/toast.helper\";\r\nimport {RevalidacaoService} from \"../../../providers/revalidacao.service\";\r\nimport {UtilService} from \"../../../providers/util.service\";\r\nimport {EnViPortalBeneficiario} from \"../../../models/beneficiario/benner/en-vi-portal-beneficiario.model\";\r\nimport {DtoAuxiliar} from \"../../../models/dto/dto-auxiliar\";\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-revalidacao-atualizar-endereco',\r\n    templateUrl: 'revalidacao-atualizar-endereco.html'\r\n})\r\nexport class RevalidacaoAtualizarEnderecoPage {\r\n    public beneficiario: EnViPortalBeneficiario;\r\n    public buscaCep: UtilBuscaCep = new UtilBuscaCep();\r\n    public numero: number = null;\r\n    public complemento: string = null;\r\n    public form: FormGroup;\r\n\r\n\r\n    constructor(private toastHelper: ToastHelper,\r\n                private navCtrl: NavController,\r\n                private navParams: NavParams,\r\n                private loadingCtrl: LoadingController,\r\n                private revalidacaoService: RevalidacaoService,\r\n                private utilService: UtilService\r\n    ) {\r\n        this.beneficiario = this.navParams.get('Beneficiario');\r\n        this.form = new FormGroup({\r\n            'cep': new FormControl('', [Validators.required, Validators.minLength(8), Validators.maxLength(8), Validators.pattern('^[0-9]*$')]),\r\n            'cidade': new FormControl({value: '', disabled: true}),\r\n            'uf': new FormControl({value: '', disabled: true}),\r\n            'bairro': new FormControl({value: '', disabled: true}),\r\n            'endereco': new FormControl({value: '', disabled: true}),\r\n            'numero': new FormControl({\r\n                value: null,\r\n                disabled: true\r\n            }, [Validators.required, Validators.pattern('^[0-9]*$')]),\r\n            'complemento': new FormControl({value: null, disabled: true})\r\n        });\r\n    }\r\n\r\n    buscarCep() {\r\n        let loader = this.loadingCtrl.create({\r\n            content: \"Por favor aguarde...\",\r\n        });\r\n        loader.present();\r\n        this.utilService.buscarCep(this.buscaCep.cep).subscribe((buscaCep: UtilBuscaCep[]) => {\r\n            if (buscaCep.length) {\r\n                this.buscaCep = buscaCep[0];\r\n                this.form.get('cep').disable();\r\n                this.form.get('cep').markAsPending();\r\n                this.form.get('numero').enable();\r\n                this.form.get('numero').markAsTouched();\r\n                this.form.get('complemento').enable();\r\n            } else {\r\n                this.toastHelper.notificacaoErroCarregarDados();\r\n            }\r\n            loader.dismiss();\r\n        }, error => {\r\n            if (error.status == 400) {\r\n                this.toastHelper.notificacaoMensagem('CEP não encontrado, revalidação permitida somente na unidade CASSEMS');\r\n            } else {\r\n                this.toastHelper.notificacaoErroCarregarDados();\r\n            }\r\n            loader.dismiss();\r\n        });\r\n    }\r\n\r\n    revalidar() {\r\n        let loader = this.loadingCtrl.create({\r\n            content: \"Por favor aguarde...\",\r\n        });\r\n        loader.present();\r\n        this.revalidacaoService.revalidarBeneficiario(\r\n            this.beneficiario.matriculaCassems,\r\n            this.buscaCep.cep,\r\n            this.buscaCep.endereco,\r\n            this.numero,\r\n            this.complemento,\r\n            this.buscaCep.bairro,\r\n            1\r\n        ).subscribe((auxiliar: DtoAuxiliar) => {\r\n            loader.dismiss();\r\n            this.toastHelper.notificacaoMensagem(auxiliar.descricaoCompleta);\r\n            this.navCtrl.setRoot('ListaGrupoFamiliarRevalidacaoPage');\r\n        }, error => {\r\n            if (error.status == 400) {\r\n                this.toastHelper.notificacaoMensagem(error.error.mensagem);\r\n            } else {\r\n                this.toastHelper.notificacaoMensagem('Ocorreu um erro interno, por favor tente novamente mais tarde');\r\n            }\r\n            loader.dismiss();\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/revalidacao/revalidacao-atualizar-endereco/revalidacao-atualizar-endereco.ts","export class UtilBuscaCep{\r\n\r\n    private _cep: string;\r\n    private _codCidade: number;\r\n    private _cidade: string;\r\n    private _uf: string;\r\n    private _bairro: string;\r\n    private _endereco: string;\r\n\r\n\r\n    get cep(): string {\r\n        return this._cep;\r\n    }\r\n\r\n    set cep(value: string) {\r\n        this._cep = value;\r\n    }\r\n\r\n    get codCidade(): number {\r\n        return this._codCidade;\r\n    }\r\n\r\n    set codCidade(value: number) {\r\n        this._codCidade = value;\r\n    }\r\n\r\n    get cidade(): string {\r\n        return this._cidade;\r\n    }\r\n\r\n    set cidade(value: string) {\r\n        this._cidade = value;\r\n    }\r\n\r\n    get uf(): string {\r\n        return this._uf;\r\n    }\r\n\r\n    set uf(value: string) {\r\n        this._uf = value;\r\n    }\r\n\r\n    get bairro(): string {\r\n        return this._bairro;\r\n    }\r\n\r\n    set bairro(value: string) {\r\n        this._bairro = value;\r\n    }\r\n\r\n    get endereco(): string {\r\n        return this._endereco;\r\n    }\r\n\r\n    set endereco(value: string) {\r\n        this._endereco = value;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/to/util-busca-cep.model.ts"],"sourceRoot":""}