{"version":3,"sources":["../../src/pages/pre-home-redes-sociais/pre-home-redes-sociais.module.ts","../../src/pages/pre-home-redes-sociais/pre-home-redes-sociais.ts"],"names":[],"mappings":"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","file":"28.js","sourcesContent":["import {CUSTOM_ELEMENTS_SCHEMA, NgModule} from '@angular/core';\r\nimport {IonicPageModule} from \"ionic-angular\";\r\nimport {PipeModule} from \"../../pipes/pipe.module\";\r\nimport {ComponentsModule} from \"../../components/components.module\";\r\nimport {PreHomeRedesSociaisPage} from \"./pre-home-redes-sociais\";\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        PreHomeRedesSociaisPage\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(PreHomeRedesSociaisPage),\r\n        PipeModule,\r\n        ComponentsModule\r\n    ],\r\n    exports: [PreHomeRedesSociaisPage],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n    providers: [],\r\n})\r\nexport class HomeModule {\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pre-home-redes-sociais/pre-home-redes-sociais.module.ts","import {Component} from '@angular/core';\r\nimport {IonicPage, LoadingController, NavController, NavParams} from \"ionic-angular\";\r\nimport {ToastHelper} from \"../../helpers/toast.helper\";\r\nimport {Usuario} from \"../../models/usuario.model\";\r\nimport {Facebook, FacebookLoginResponse} from \"@ionic-native/facebook\";\r\nimport {UsuarioService} from \"../../providers/usuario.service\";\r\nimport {StorageService} from \"../../providers/storage.service\";\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-pre-home-redes-sociais',\r\n    templateUrl: 'pre-home-redes-sociais.html'\r\n})\r\nexport class PreHomeRedesSociaisPage {\r\n\r\n    private usuario: Usuario;\r\n\r\n    constructor(private storageService: StorageService,\r\n                private loadingCtrl: LoadingController,\r\n                private navCtrl: NavController,\r\n                private toastHelper: ToastHelper,\r\n                private navParams: NavParams,\r\n                private facebook: Facebook,\r\n                private usuarioService: UsuarioService) {\r\n\r\n    }\r\n\r\n    ionViewDidLoad() {\r\n        this.usuario = this.navParams.get('Usuario') as Usuario;\r\n    }\r\n\r\n    /**\r\n     * Metodo utilizado para vincular o usuario atual a uma conta do Facebook\r\n     *\r\n     * @author Anderson Friaca\r\n     */\r\n    vincularUsuarioFacebook() {\r\n        let loader = this.loadingCtrl.create({\r\n            content: \"Por favor aguarde...\",\r\n        });\r\n        loader.present();\r\n        this.facebook.login(['public_profile']).then((response: FacebookLoginResponse) => {\r\n            this.usuarioService.vincularUsuarioRedeSocial(this.usuario.username, response.authResponse.userID).subscribe(() => {\r\n                this.usuario.idFacebook = response.authResponse.userID;\r\n                this.storageService.setUsuario(this.usuario)\r\n                    .then(() => {\r\n                        loader.dismiss();\r\n                        this.redirecionarPaginaHome();\r\n                    }, () => {\r\n                        loader.dismiss();\r\n                        this.redirecionarPaginaHome();\r\n                    });\r\n            }, error => {\r\n                let mensagemErro = 'Ocorreu um erro ao vincular sua conta do Facebook, por favor tente novamente mais tarde';\r\n                if (error.status == 400) {\r\n                    mensagemErro = 'Esta conta do Facebook já possui vinculação';\r\n                }\r\n                this.facebook.logout().then(() => {\r\n                    loader.dismiss();\r\n                    this.toastHelper.notificacaoMensagem(mensagemErro);\r\n                }, () => {\r\n                    loader.dismiss();\r\n                    this.toastHelper.notificacaoMensagem(mensagemErro);\r\n                });\r\n            });\r\n        }, error => {\r\n            loader.dismiss();\r\n            this.toastHelper.notificacaoMensagem('Não foi possível realizar o login pelo Facebook, por favor tente novamente mais tarde');\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @TODO\r\n     */\r\n    vincularUsuarioGooglePlus() {\r\n\r\n    }\r\n\r\n    redirecionarPaginaHome() {\r\n        this.navCtrl.setRoot('HomePage');\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pre-home-redes-sociais/pre-home-redes-sociais.ts"],"sourceRoot":""}