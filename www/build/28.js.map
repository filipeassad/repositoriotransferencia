{"version":3,"sources":["../../src/pages/pre-home-redes-sociais/pre-home-redes-sociais.module.ts","../../src/pages/pre-home-redes-sociais/pre-home-redes-sociais.ts"],"names":[],"mappings":"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","file":"28.js","sourcesContent":["import {CUSTOM_ELEMENTS_SCHEMA, NgModule} from '@angular/core';\nimport {IonicPageModule} from \"ionic-angular\";\nimport {PipeModule} from \"../../pipes/pipe.module\";\nimport {ComponentsModule} from \"../../components/components.module\";\nimport {PreHomeRedesSociaisPage} from \"./pre-home-redes-sociais\";\n\n\n@NgModule({\n    declarations: [\n        PreHomeRedesSociaisPage\n    ],\n    imports: [\n        IonicPageModule.forChild(PreHomeRedesSociaisPage),\n        PipeModule,\n        ComponentsModule\n    ],\n    exports: [PreHomeRedesSociaisPage],\n    schemas: [CUSTOM_ELEMENTS_SCHEMA],\n    providers: [],\n})\nexport class HomeModule {\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pre-home-redes-sociais/pre-home-redes-sociais.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, LoadingController, NavController, NavParams} from \"ionic-angular\";\nimport {ToastHelper} from \"../../helpers/toast.helper\";\nimport {Usuario} from \"../../models/usuario.model\";\nimport {Facebook, FacebookLoginResponse} from \"@ionic-native/facebook\";\nimport {UsuarioService} from \"../../providers/usuario.service\";\nimport {StorageService} from \"../../providers/storage.service\";\n\n@IonicPage()\n@Component({\n    selector: 'page-pre-home-redes-sociais',\n    templateUrl: 'pre-home-redes-sociais.html'\n})\nexport class PreHomeRedesSociaisPage {\n\n    private usuario: Usuario;\n\n    constructor(private storageService: StorageService,\n                private loadingCtrl: LoadingController,\n                private navCtrl: NavController,\n                private toastHelper: ToastHelper,\n                private navParams: NavParams,\n                private facebook: Facebook,\n                private usuarioService: UsuarioService) {\n\n    }\n\n    ionViewDidLoad() {\n        this.usuario = this.navParams.get('Usuario') as Usuario;\n    }\n\n    /**\n     * Metodo utilizado para vincular o usuario atual a uma conta do Facebook\n     *\n     * @author Anderson Friaca\n     */\n    vincularUsuarioFacebook() {\n        let loader = this.loadingCtrl.create({\n            content: \"Por favor aguarde...\",\n        });\n        loader.present();\n        this.facebook.login(['public_profile']).then((response: FacebookLoginResponse) => {\n            this.usuarioService.vincularUsuarioRedeSocial(this.usuario.username, response.authResponse.userID).subscribe(() => {\n                this.usuario.idFacebook = response.authResponse.userID;\n                this.storageService.setUsuario(this.usuario)\n                    .then(() => {\n                        loader.dismiss();\n                        this.redirecionarPaginaHome();\n                    }, () => {\n                        loader.dismiss();\n                        this.redirecionarPaginaHome();\n                    });\n            }, error => {\n                let mensagemErro = 'Ocorreu um erro ao vincular sua conta do Facebook, por favor tente novamente mais tarde';\n                if (error.status == 400) {\n                    mensagemErro = 'Esta conta do Facebook já possui vinculação';\n                }\n                this.facebook.logout().then(() => {\n                    loader.dismiss();\n                    this.toastHelper.notificacaoMensagem(mensagemErro);\n                }, () => {\n                    loader.dismiss();\n                    this.toastHelper.notificacaoMensagem(mensagemErro);\n                });\n            });\n        }, error => {\n            loader.dismiss();\n            this.toastHelper.notificacaoMensagem('Não foi possível realizar o login pelo Facebook, por favor tente novamente mais tarde');\n        });\n    }\n\n    /**\n     * @TODO\n     */\n    vincularUsuarioGooglePlus() {\n\n    }\n\n    redirecionarPaginaHome() {\n        this.navCtrl.setRoot('HomePage');\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pre-home-redes-sociais/pre-home-redes-sociais.ts"],"sourceRoot":""}