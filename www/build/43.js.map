{"version":3,"sources":["../../src/pages/agendamento/confirmar-agendamento/confirmar-agendamento.module.ts","../../src/pages/agendamento/confirmar-agendamento/confirmar-agendamento.ts"],"names":[],"mappings":"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","file":"43.js","sourcesContent":["import {CUSTOM_ELEMENTS_SCHEMA, NgModule} from '@angular/core';\r\nimport {IonicPageModule} from \"ionic-angular\";\r\nimport {PipeModule} from \"../../../pipes/pipe.module\";\r\nimport {ConfirmarAgendamentoPage} from \"./confirmar-agendamento\";\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ConfirmarAgendamentoPage\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(ConfirmarAgendamentoPage),\r\n        PipeModule\r\n    ],\r\n    exports: [ConfirmarAgendamentoPage],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n    providers: [],\r\n})\r\nexport class ConfirmarAgendamentoModule {\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/agendamento/confirmar-agendamento/confirmar-agendamento.module.ts","import {Component} from \"@angular/core\";\r\nimport {AlertController, IonicPage, LoadingController, NavController, NavParams} from \"ionic-angular\";\r\nimport {Prestador} from \"../../../models/prestador.model\";\r\nimport {Especialidade} from \"../../../models/especialidade.model\";\r\nimport {CentroMedico} from \"../../../models/centro-medico.model\";\r\nimport {AgendamentoService} from \"../../../providers/agendamento.service\";\r\nimport {ToastHelper} from \"../../../helpers/toast.helper\";\r\nimport {ValidaAgendamentoTO} from \"../../../models/to/valida-agendamento.to.model\";\r\nimport {EnPrestadorListaMensagemAppPortalModel} from \"../../../models/en-prestador-lista-mensagem-app-portal.model\";\r\nimport {EnViPortalBeneficiario} from \"../../../models/beneficiario/benner/en-vi-portal-beneficiario.model\";\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-confirmar-agendamento',\r\n    templateUrl: 'confirmar-agendamento.html'\r\n})\r\nexport class ConfirmarAgendamentoPage {\r\n\r\n    prestador: Prestador;\r\n    especialidade: Especialidade;\r\n    centroMedico: CentroMedico;\r\n    dataAgendamento: string;\r\n    horaAgendamento: string;\r\n    beneficiario: EnViPortalBeneficiario;\r\n    listaMensagens: EnPrestadorListaMensagemAppPortalModel[] = [];\r\n\r\n\r\n    constructor(private agendamentoService: AgendamentoService,\r\n                private loadingCtrl: LoadingController,\r\n                private navParams: NavParams,\r\n                private navCtrl: NavController,\r\n                private toastHelper: ToastHelper,\r\n                private alertCtrl: AlertController) {\r\n\r\n        this.prestador = this.navParams.get('Prestador');\r\n        this.centroMedico = this.navParams.get('CentroMedico');\r\n        this.especialidade = this.navParams.get('Especialidade');\r\n        this.beneficiario = this.navParams.get('Beneficiario');\r\n        this.dataAgendamento = this.navParams.get('dataAgendamento');\r\n        this.horaAgendamento = this.navParams.get('horaAgendamento');\r\n    }\r\n\r\n    ionViewDidLoad() {\r\n        let loader = this.loadingCtrl.create({\r\n            content: \"Por favor aguarde...\",\r\n        });\r\n        loader.present();\r\n        this.agendamentoService.validarParametrosAgendamento(\r\n            this.beneficiario.benId,\r\n            this.especialidade.codEspecialidade,\r\n            this.prestador.codCredenciado.toString(),\r\n            this.centroMedico.codCentroMedico\r\n        ).subscribe((validaAgendamento: ValidaAgendamentoTO) => {\r\n            this.listaMensagens = validaAgendamento.listMensagem;\r\n            loader.dismiss();\r\n        }, error => loader.dismiss());\r\n    }\r\n\r\n\r\n    realizarAgendamento() {\r\n        let loader = this.loadingCtrl.create({\r\n            content: \"Por favor aguarde...\",\r\n        });\r\n        loader.present();\r\n        this.agendamentoService.agendar(\r\n            this.beneficiario.matriculaCassems,\r\n            this.dataAgendamento,\r\n            this.horaAgendamento,\r\n            this.especialidade.codEspecialidade,\r\n            this.centroMedico.codCentroMedico,\r\n            this.prestador.codCredenciado\r\n        ).subscribe(result => {\r\n            loader.dismiss();\r\n            this.toastHelper.notificacaoMensagem('Agendamento realizado com sucesso');\r\n            this.navCtrl.setRoot('MeusAgendamentosPage');\r\n        }, (error) => {\r\n            loader.dismiss();\r\n            if (error.status == 400) {\r\n                this.toastHelper.notificacaoMensagem(error.error.motivoNegativa);\r\n                this.navCtrl.pop();\r\n            } else {\r\n                this.toastHelper.notificacaoMensagem('Ocorreu um erro ao realizar o agendamento, por favor tente novamente mais tarde');\r\n            }\r\n        });\r\n    }\r\n\r\n    abrirInformacoes() {\r\n        let alert = this.alertCtrl.create({\r\n            title: 'Agendamento',\r\n            subTitle: 'Os atendimentos s√£o realizados por ordem de chegada',\r\n            buttons: ['OK']\r\n        });\r\n        alert.present();\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/agendamento/confirmar-agendamento/confirmar-agendamento.ts"],"sourceRoot":""}