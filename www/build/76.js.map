{"version":3,"sources":["../../src/pages/listagem-faturas-negociacao/listagem-faturas-negociacao.module.ts","../../src/pages/listagem-faturas-negociacao/listagem-faturas-negociacao.ts"],"names":[],"mappings":"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","file":"76.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ListagemFaturasNegociacaoPage } from './listagem-faturas-negociacao';\n\n@NgModule({\n  declarations: [\n    ListagemFaturasNegociacaoPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ListagemFaturasNegociacaoPage),\n  ],\n})\nexport class ListagemFaturasNegociacaoPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/listagem-faturas-negociacao/listagem-faturas-negociacao.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { Negociacao } from '../../models/negociacao.model';\nimport { NegociacaoService } from '../../providers/negociacao.service';\nimport { Autorizacao } from '../../models/autorizacao.model';\nimport { NegociacaoItem } from '../../models/negociacao-item.model';\nimport { NegociacaoItemEstaticoService } from '../../providers/negociacao-item-estatico.service';\n\n\n@IonicPage()\n@Component({\n    selector: 'page-listagem-faturas-negociacao',\n    templateUrl: 'listagem-faturas-negociacao.html',\n})\nexport class ListagemFaturasNegociacaoPage {\n\n    private itensNegociacao: NegociacaoItem[] = [];\n    private negociacaoSelecionada: Negociacao;\n    private desabilitaAceitacao: boolean = true;\n\n\n    constructor(public navCtrl: NavController,\n                public navParams: NavParams,\n                private negociacaoService: NegociacaoService,\n                private loadingCtrl: LoadingController,\n                private negociacaoItemEstaticoService: NegociacaoItemEstaticoService) {\n        \n        this.negociacaoSelecionada = this.navParams.get('negociacaoSelecionada');\n        this.itensNegociacao = this.negociacaoSelecionada.tbSolNegociacaoItems;\n    }\n\n    ionViewDidLoad() {\n    }\n\n    ionViewDidEnter(){\n        if(this.negociacaoItemEstaticoService.negociacaoItemAlterado){\n            let itemNegociacaoAlterado = this.negociacaoItemEstaticoService.negociacaoItemAlterado;\n            let index = 0;\n                    \n            for(let i = 0; i < this.itensNegociacao.length; i++){\n                if(this.itensNegociacao[i].sniId = itemNegociacaoAlterado.sniId)\n                    index = i;\n            }\n            this.itensNegociacao.splice(index, 1);\n            this.itensNegociacao.push(itemNegociacaoAlterado);\n            this.liberarAceitacao();\n            this.negociacaoItemEstaticoService.negociacaoItemAlterado = null;\n        }\n        \n    }\n\n    aceitarTermos(){\n        let loader = this.loadingCtrl.create({\n            content: \"Por favor aguarde...\",\n        });\n\n        this.negociacaoService.confirmarNegociacao(this.negociacaoSelecionada.snId)\n        .subscribe(resultado => {\n            this.navCtrl.pop();\n            loader.dismiss();\n        }, () => {\n            loader.dismiss();\n        });\n    }\n\n    liberarAceitacao(){\n        let quantidadeNegociados = 0;\n        for (let item of this.itensNegociacao) {\n            if(item.sniCondicaopagamento != null)\n                quantidadeNegociados++;\n        }\n\n        this.desabilitaAceitacao = quantidadeNegociados != this.itensNegociacao.length\n                                    || (this.negociacaoSelecionada.snDataaceite != null || this.negociacaoSelecionada.snDataaceite != null) ;\n    }\n\n    rejeitarTermos(){\n        let loader = this.loadingCtrl.create({\n            content: \"Por favor aguarde...\",\n        });\n\n        this.negociacaoService.rejeitarNegociacao(this.negociacaoSelecionada.snId)\n        .subscribe(resultado => {\n            this.navCtrl.pop();\n            loader.dismiss();\n        }, () => {\n            loader.dismiss();\n        });\n    }\n\n    negociacaoFatura(itemNegociacaoSelecionada){\n        this.navCtrl.push('NegociacaoPage', {'itemNegociacaoSelecionada': itemNegociacaoSelecionada});\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/listagem-faturas-negociacao/listagem-faturas-negociacao.ts"],"sourceRoot":""}