{"version":3,"sources":["../../src/pages/revalidacao/revalidacao-atualizar-endereco/revalidacao-atualizar-endereco.module.ts","../../src/pages/revalidacao/revalidacao-atualizar-endereco/revalidacao-atualizar-endereco.ts","../../src/models/to/util-busca-cep.model.ts"],"names":[],"mappings":"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","file":"59.js","sourcesContent":["import {CUSTOM_ELEMENTS_SCHEMA, NgModule} from '@angular/core';\nimport {IonicPageModule} from \"ionic-angular\";\nimport {PipeModule} from \"../../../pipes/pipe.module\";\nimport {RevalidacaoAtualizarEnderecoPage} from \"./revalidacao-atualizar-endereco\";\n\n\n@NgModule({\n    declarations: [\n        RevalidacaoAtualizarEnderecoPage\n    ],\n    imports: [\n        IonicPageModule.forChild(RevalidacaoAtualizarEnderecoPage),\n        PipeModule\n    ],\n    exports: [RevalidacaoAtualizarEnderecoPage],\n    schemas: [CUSTOM_ELEMENTS_SCHEMA],\n    providers: [],\n})\nexport class RevalidacaoAtualizarEnderecoModule {\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/revalidacao/revalidacao-atualizar-endereco/revalidacao-atualizar-endereco.module.ts","import {Component} from \"@angular/core\";\nimport {IonicPage, LoadingController, NavController, NavParams} from \"ionic-angular\";\nimport {FormControl, FormGroup, Validators} from \"@angular/forms\";\nimport {UtilBuscaCep} from \"../../../models/to/util-busca-cep.model\";\nimport {ToastHelper} from \"../../../helpers/toast.helper\";\nimport {RevalidacaoService} from \"../../../providers/revalidacao.service\";\nimport {UtilService} from \"../../../providers/util.service\";\nimport {EnViPortalBeneficiario} from \"../../../models/beneficiario/benner/en-vi-portal-beneficiario.model\";\nimport {DtoAuxiliar} from \"../../../models/dto/dto-auxiliar\";\n\n@IonicPage()\n@Component({\n    selector: 'page-revalidacao-atualizar-endereco',\n    templateUrl: 'revalidacao-atualizar-endereco.html'\n})\nexport class RevalidacaoAtualizarEnderecoPage {\n    public beneficiario: EnViPortalBeneficiario;\n    public buscaCep: UtilBuscaCep = new UtilBuscaCep();\n    public numero: number = null;\n    public complemento: string = null;\n    public form: FormGroup;\n\n\n    constructor(private toastHelper: ToastHelper,\n                private navCtrl: NavController,\n                private navParams: NavParams,\n                private loadingCtrl: LoadingController,\n                private revalidacaoService: RevalidacaoService,\n                private utilService: UtilService\n    ) {\n        this.beneficiario = this.navParams.get('Beneficiario');\n        this.form = new FormGroup({\n            'cep': new FormControl('', [Validators.required, Validators.minLength(8), Validators.maxLength(8), Validators.pattern('^[0-9]*$')]),\n            'cidade': new FormControl({value: '', disabled: true}),\n            'uf': new FormControl({value: '', disabled: true}),\n            'bairro': new FormControl({value: '', disabled: true}),\n            'endereco': new FormControl({value: '', disabled: true}),\n            'numero': new FormControl({\n                value: null,\n                disabled: true\n            }, [Validators.required, Validators.pattern('^[0-9]*$')]),\n            'complemento': new FormControl({value: null, disabled: true})\n        });\n    }\n\n    buscarCep() {\n        let loader = this.loadingCtrl.create({\n            content: \"Por favor aguarde...\",\n        });\n        loader.present();\n        this.utilService.buscarCep(this.buscaCep.cep).subscribe((buscaCep: UtilBuscaCep[]) => {\n            if (buscaCep.length) {\n                this.buscaCep = buscaCep[0];\n                this.form.get('cep').disable();\n                this.form.get('cep').markAsPending();\n                this.form.get('numero').enable();\n                this.form.get('numero').markAsTouched();\n                this.form.get('complemento').enable();\n            } else {\n                this.toastHelper.notificacaoErroCarregarDados();\n            }\n            loader.dismiss();\n        }, error => {\n            if (error.status == 400) {\n                this.toastHelper.notificacaoMensagem('CEP não encontrado, revalidação permitida somente na unidade CASSEMS');\n            } else {\n                this.toastHelper.notificacaoErroCarregarDados();\n            }\n            loader.dismiss();\n        });\n    }\n\n    revalidar() {\n        let loader = this.loadingCtrl.create({\n            content: \"Por favor aguarde...\",\n        });\n        loader.present();\n        this.revalidacaoService.revalidarBeneficiario(\n            this.beneficiario.matriculaCassems,\n            this.buscaCep.cep,\n            this.buscaCep.endereco,\n            this.numero,\n            this.complemento,\n            this.buscaCep.bairro,\n            1\n        ).subscribe((auxiliar: DtoAuxiliar) => {\n            loader.dismiss();\n            this.toastHelper.notificacaoMensagem(auxiliar.descricaoCompleta);\n            this.navCtrl.setRoot('ListaGrupoFamiliarRevalidacaoPage');\n        }, error => {\n            if (error.status == 400) {\n                this.toastHelper.notificacaoMensagem(error.error.mensagem);\n            } else {\n                this.toastHelper.notificacaoMensagem('Ocorreu um erro interno, por favor tente novamente mais tarde');\n            }\n            loader.dismiss();\n        });\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/revalidacao/revalidacao-atualizar-endereco/revalidacao-atualizar-endereco.ts","export class UtilBuscaCep{\n\n    private _cep: string;\n    private _codCidade: number;\n    private _cidade: string;\n    private _uf: string;\n    private _bairro: string;\n    private _endereco: string;\n\n\n    get cep(): string {\n        return this._cep;\n    }\n\n    set cep(value: string) {\n        this._cep = value;\n    }\n\n    get codCidade(): number {\n        return this._codCidade;\n    }\n\n    set codCidade(value: number) {\n        this._codCidade = value;\n    }\n\n    get cidade(): string {\n        return this._cidade;\n    }\n\n    set cidade(value: string) {\n        this._cidade = value;\n    }\n\n    get uf(): string {\n        return this._uf;\n    }\n\n    set uf(value: string) {\n        this._uf = value;\n    }\n\n    get bairro(): string {\n        return this._bairro;\n    }\n\n    set bairro(value: string) {\n        this._bairro = value;\n    }\n\n    get endereco(): string {\n        return this._endereco;\n    }\n\n    set endereco(value: string) {\n        this._endereco = value;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/to/util-busca-cep.model.ts"],"sourceRoot":""}