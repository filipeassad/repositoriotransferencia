{"version":3,"sources":["../../src/pages/segunda-via-boleto/lista-segunda-via-boleto/lista-segunda-via-boleto.module.ts","../../src/pages/segunda-via-boleto/lista-segunda-via-boleto/lista-segunda-via-boleto.ts"],"names":[],"mappings":"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","file":"24.js","sourcesContent":["import {CUSTOM_ELEMENTS_SCHEMA, NgModule} from '@angular/core';\r\nimport {IonicPageModule} from \"ionic-angular\";\r\nimport {PipeModule} from \"../../../pipes/pipe.module\";\r\nimport {ListaSegundaViaBoletoPage} from \"./lista-segunda-via-boleto\";\r\n\r\n\r\n@NgModule({\r\n    declarations: [\r\n        ListaSegundaViaBoletoPage\r\n    ],\r\n    imports: [\r\n        IonicPageModule.forChild(ListaSegundaViaBoletoPage),\r\n        PipeModule\r\n    ],\r\n    exports: [ListaSegundaViaBoletoPage],\r\n    schemas: [CUSTOM_ELEMENTS_SCHEMA],\r\n    providers: [],\r\n})\r\nexport class ListaSegundaViaBoletoModule {\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/segunda-via-boleto/lista-segunda-via-boleto/lista-segunda-via-boleto.module.ts","import {Component} from \"@angular/core\";\r\nimport {IonicPage, LoadingController, NavController} from \"ionic-angular\";\r\nimport {BoletoSapiens} from \"../../../models/boleto-sapiens.model\";\r\nimport {SegundaViaBoletoService} from \"../../../providers/segunda-via-boleto.service\";\r\nimport {ToastHelper} from \"../../../helpers/toast.helper\";\r\nimport {StorageService} from \"../../../providers/storage.service\";\r\nimport {EnViPortalBeneficiario} from \"../../../models/beneficiario/benner/en-vi-portal-beneficiario.model\";\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-lista-segunda-via-boleto',\r\n    templateUrl: 'lista-segunda-via-boleto.html'\r\n})\r\nexport class ListaSegundaViaBoletoPage {\r\n\r\n    listaBoletosEmAberto: BoletoSapiens[] = [];\r\n    private beneficiario: EnViPortalBeneficiario;\r\n\r\n    constructor(private navCtrl: NavController,\r\n                private loadingCtrl: LoadingController,\r\n                private segundaViaBoletoService: SegundaViaBoletoService,\r\n                private storageService: StorageService,\r\n                private toastHelper: ToastHelper) {\r\n\r\n    }\r\n\r\n    ionViewDidLoad() {\r\n        let loader = this.loadingCtrl.create({\r\n            content: \"Por favor aguarde...\",\r\n        });\r\n        loader.present();\r\n        this.storageService.getBeneficiario()\r\n            .then(beneficiario => {\r\n                this.beneficiario = beneficiario;\r\n                this.segundaViaBoletoService.buscarListaBoletosEmAberto(this.beneficiario.handleTitular).subscribe((lista: BoletoSapiens[]) => {\r\n                    if (lista != null) {\r\n                        if (lista.length) {\r\n                            lista = this.calcularDataVencimento(lista);\r\n                            this.listaBoletosEmAberto = lista;\r\n                            loader.dismiss();\r\n                        } else {\r\n                            loader.dismiss();\r\n                            this.toastHelper.notificacaoMensagem('Não possui boletos em aberto');\r\n                            this.navCtrl.setRoot('HomePage');\r\n                        }\r\n                    } else {\r\n                        loader.dismiss();\r\n                        this.toastHelper.notificacaoMensagem('Não possui boletos em aberto');\r\n                        this.navCtrl.setRoot('HomePage');\r\n                    }\r\n                }, () => {\r\n                    loader.dismiss();\r\n                    this.toastHelper.notificacaoErroCarregarDados();\r\n                    this.navCtrl.setRoot('HomePage');\r\n                });\r\n            }, () => {\r\n                loader.dismiss();\r\n                this.toastHelper.notificacaoErroCarregarDados();\r\n                this.navCtrl.setRoot('HomePage');\r\n            });\r\n    }\r\n\r\n    visualizarBoleto(boleto: BoletoSapiens) {\r\n        this.navCtrl.push('SegundaViaBoletoPage', {boleto: boleto});\r\n    }\r\n\r\n    calcularDataVencimento(lista: BoletoSapiens[]) {\r\n        return lista.map((boleto: BoletoSapiens) => {\r\n            boleto.dataVencimentoCalculado = new Date(boleto.vctOri_data);\r\n            return boleto;\r\n        });\r\n    }\r\n\r\n    recarregarDados(refresher) {\r\n        this.segundaViaBoletoService.buscarListaBoletosEmAberto(this.beneficiario.handleTitular).subscribe((lista: BoletoSapiens[]) => {\r\n            if (lista.length) {\r\n                lista = this.calcularDataVencimento(lista);\r\n                this.listaBoletosEmAberto = lista;\r\n                refresher.complete();\r\n            } else {\r\n                refresher.complete();\r\n                this.toastHelper.notificacaoMensagem('Não possui boletos em aberto');\r\n                this.navCtrl.setRoot('HomePage');\r\n            }\r\n        }, () => {\r\n            refresher.complete();\r\n            this.toastHelper.notificacaoErroCarregarDados();\r\n            this.navCtrl.setRoot('HomePage');\r\n        });\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/segunda-via-boleto/lista-segunda-via-boleto/lista-segunda-via-boleto.ts"],"sourceRoot":""}